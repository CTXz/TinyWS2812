<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tiny-WS2812: include/ws2812_common.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tiny-WS2812
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">A tiny cross-platform WS2812 LED Strip driver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ws2812_common.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Definitions required by all platform specific headers.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="ws2812__common_8h__dep__incl.png" border="0" usemap="#include_2ws2812__common_8hdep" alt=""/></div>
</div>
</div>
<p><a href="ws2812__common_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structws2812__rgb.html">ws2812_rgb</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structure to hold RGB color values.  <a href="structws2812__rgb.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aab3d5a3bfdf3fb64fcee6cc5a2518a3a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structws2812__rgb.html">ws2812_rgb</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ws2812__common_8h.html#aab3d5a3bfdf3fb64fcee6cc5a2518a3a">ws2812_rgb</a></td></tr>
<tr class="memdesc:aab3d5a3bfdf3fb64fcee6cc5a2518a3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data structure to hold RGB color values.  <a href="ws2812__common_8h.html#aab3d5a3bfdf3fb64fcee6cc5a2518a3a">More...</a><br /></td></tr>
<tr class="separator:aab3d5a3bfdf3fb64fcee6cc5a2518a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8748d3b90dd6acafed50ff0cf34034dd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ws2812__common_8h.html#a8748d3b90dd6acafed50ff0cf34034dd">ws2812_order</a> { <br />
&#160;&#160;<b>rgb</b>, 
<b>rbg</b>, 
<b>brg</b>, 
<b>bgr</b>, 
<br />
&#160;&#160;<b>grb</b>, 
<b>gbr</b>
<br />
 }</td></tr>
<tr class="memdesc:a8748d3b90dd6acafed50ff0cf34034dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum to specify the WS2812 device's color order.  <a href="ws2812__common_8h.html#a8748d3b90dd6acafed50ff0cf34034dd">More...</a><br /></td></tr>
<tr class="separator:a8748d3b90dd6acafed50ff0cf34034dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abb76184063c2d58324bde5457e32bee0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ws2812__common_8h.html#abb76184063c2d58324bde5457e32bee0">_ws2812_get_rgbmap</a> (uint8_t(*rgbmap)[3], <a class="el" href="ws2812__common_8h.html#a8748d3b90dd6acafed50ff0cf34034dd">ws2812_order</a> order)</td></tr>
<tr class="memdesc:abb76184063c2d58324bde5457e32bee0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a rgb map for a given color order.  <a href="ws2812__common_8h.html#abb76184063c2d58324bde5457e32bee0">More...</a><br /></td></tr>
<tr class="separator:abb76184063c2d58324bde5457e32bee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Definitions required by all platform specific headers. </p>
<dl class="section author"><dt>Author</dt><dd>Patrick Pedersen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2021-04-16</dd></dl>
<p>The following header features platform independent definitions, such as typedefs, enums and structs, that are used across all platorm specific headers. </p>

<p class="definition">Definition in file <a class="el" href="ws2812__common_8h_source.html">ws2812_common.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="aab3d5a3bfdf3fb64fcee6cc5a2518a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab3d5a3bfdf3fb64fcee6cc5a2518a3a">&#9670;&nbsp;</a></span>ws2812_rgb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structws2812__rgb.html">ws2812_rgb</a> <a class="el" href="structws2812__rgb.html">ws2812_rgb</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data structure to hold RGB color values. </p>
<p>The RGB struct holds the red, green and blue values to define colors. It is used by the <a class="el" href="ws2812__avr_8c.html#a910f8836ea93491a427642d1a6f631d4" title="Transmits RGB values to the provided WS2812 device.">ws2812_tx()</a> function to set the color of one or more WS2812 LEDs.</p>
<dl class="section note"><dt>Note</dt><dd>It should be noted that WS2812 LEDs typically suffer from poor color accuracy. As an example, the typical RGB value for orange (255,165,0) displays a color closer to yellow on my WS2812 strip. <br  />
 </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a8748d3b90dd6acafed50ff0cf34034dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8748d3b90dd6acafed50ff0cf34034dd">&#9670;&nbsp;</a></span>ws2812_order</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ws2812__common_8h.html#a8748d3b90dd6acafed50ff0cf34034dd">ws2812_order</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum to specify the WS2812 device's color order. </p>
<p>Unfortunately there is no clear standard on sequential color order of WS2812 LEDs, some are intuitively programmed in RGB order, however, many, if not the majority, are programmed in GRB oder. As there is automatic way to identify the correct color order, it must be manually provided in the device configuration with this enum. </p>

<p class="definition">Definition at line <a class="el" href="ws2812__common_8h_source.html#l00044">44</a> of file <a class="el" href="ws2812__common_8h_source.html">ws2812_common.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;             {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        rgb,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        rbg,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        brg,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        bgr,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        grb,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        gbr</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;} <a class="code" href="ws2812__common_8h.html#a8748d3b90dd6acafed50ff0cf34034dd">ws2812_order</a>;</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abb76184063c2d58324bde5457e32bee0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb76184063c2d58324bde5457e32bee0">&#9670;&nbsp;</a></span>_ws2812_get_rgbmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _ws2812_get_rgbmap </td>
          <td>(</td>
          <td class="paramtype">uint8_t(*)&#160;</td>
          <td class="paramname"><em>rgbmap</em>[3], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ws2812__common_8h.html#a8748d3b90dd6acafed50ff0cf34034dd">ws2812_order</a>&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a rgb map for a given color order. </p>
<p>The following function is intended only to be used for internal library code, hence the _ prefix. It fills a 3 element byte array with the necessary offsets to map/convert RGB values to a different color order. For example, setting the order to <code>rgb</code> fills the rgb map with <code>0, 1, 2</code> and <code>bgr</code> fill the rgb map with <code>2, 1, 0</code>, etc. </p>

<p class="definition">Definition at line <a class="el" href="ws2812__common_8c_source.html#l00043">43</a> of file <a class="el" href="ws2812__common_8c_source.html">ws2812_common.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">switch</span> (order) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                <span class="keywordflow">case</span> rbg:</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                        memcpy(rgbmap, ws2812_order_rbg, 3);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                <span class="keywordflow">case</span> brg:</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                        memcpy(rgbmap, ws2812_order_brg, 3);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                <span class="keywordflow">case</span> bgr:</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                        memcpy(rgbmap, ws2812_order_bgr, 3);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                <span class="keywordflow">case</span> grb:</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                        memcpy(rgbmap, ws2812_order_grb, 3);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                <span class="keywordflow">case</span> gbr:</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                        memcpy(rgbmap, ws2812_order_gbr, 3);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                <span class="keywordflow">default</span>: <span class="comment">// rgb</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                        memcpy(rgbmap, ws2812_order_rgb, 3);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<div class="ttc" id="aws2812__common_8h_html_a8748d3b90dd6acafed50ff0cf34034dd"><div class="ttname"><a href="ws2812__common_8h.html#a8748d3b90dd6acafed50ff0cf34034dd">ws2812_order</a></div><div class="ttdeci">ws2812_order</div><div class="ttdoc">Enum to specify the WS2812 device's color order.</div><div class="ttdef"><b>Definition:</b> <a href="ws2812__common_8h_source.html#l00044">ws2812_common.h:44</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
